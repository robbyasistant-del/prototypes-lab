<!doctype html>
<html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Block Solitaire Rush ‚Äî Prototype</title>
<style>
:root{--bg:#0b0f1a;--card:#151f32;--grid:#203154;--on:#5eead4;--txt:#e8edff;--acc:#818cf8;--warn:#fb7185}
*{box-sizing:border-box}body{margin:0;background:linear-gradient(150deg,#090d17,#121d33);font-family:Inter,Segoe UI,Arial;color:var(--txt)}
.app{max-width:1020px;margin:0 auto;padding:20px}.card{background:var(--card);border:1px solid #304976;border-radius:16px;padding:16px;margin-bottom:12px}
.view{display:none}.view.active{display:block}.row{display:flex;gap:12px;flex-wrap:wrap}.grow{flex:1;min-width:290px}
button{border:0;border-radius:12px;padding:10px 14px;font-weight:700;cursor:pointer}.cta{background:linear-gradient(90deg,#22d3ee,#6366f1);color:#041329}.btn{background:#1f2f55;color:#dce8ff}
.grid{display:grid;grid-template-columns:repeat(6,1fr);gap:6px;max-width:420px}.cell{aspect-ratio:1;border-radius:8px;background:#172642;border:1px solid #325086}
.on{background:#34d39933;border-color:#34d399}.filled{background:#5eead4;color:#002b2b;display:flex;align-items:center;justify-content:center;font-weight:800}
.badge{display:inline-block;padding:6px 10px;border:1px solid #355489;border-radius:99px;background:#15233e;font-size:12px}
.list li{margin:6px 0}a{color:#9fd6ff}
</style></head><body><div class="app">
<div class="card view active" id="home"><h1>Block Solitaire Rush</h1><p>Drag-free tactical placement prototype: clear lines, stack combos, survive 8 rounds.</p><div class="row"><button class="cta" onclick="go('game')">Start daily board</button><button class="btn" onclick="go('help')">How to play</button><button class="btn" onclick="go('rewards')">Rewards</button></div><p style="margin-top:12px"><a href="./report.html">Open detailed report</a> ¬∑ <a href="../index.html">Back to catalog</a></p></div>
<div class="card view" id="help"><h2>How to play</h2><ol class="list"><li>Tap one of 3 offered micro-shapes to place it.</li><li>Complete full row/column to clear.</li><li>Back-to-back clears build combo multiplier.</li><li>Survive 8 rounds to finish daily mission.</li></ol><button class="btn" onclick="go('home')">Back</button></div>
<div class="card view" id="rewards"><h2>Reward loop</h2><ul class="list"><li>Daily clear: +40 gems</li><li>Perfect clear bonus: +25 gems</li><li>Streak chest every 5 days</li><li>Share trigger: "Round 8 cleared with X combo" card</li></ul><button class="btn" onclick="go('home')">Back</button></div>
<div class="card view" id="game"><div class="row"><div class="grow"><h2>Board</h2><div id="grid" class="grid"></div></div><div class="grow"><h3>Run status</h3><p id="hud">Round 1/8 ¬∑ Score 0 ¬∑ Combo x1 ¬∑ Lives 2</p><div class="row"><span class="badge" id="shapeA">L-mini</span><span class="badge" id="shapeB">Bar-2</span><span class="badge" id="shapeC">Dot</span></div><p class="muted">Tap A/B/C to place random valid position.</p><div class="row"><button class="cta" onclick="play(0)">Play A</button><button class="cta" onclick="play(1)">Play B</button><button class="cta" onclick="play(2)">Play C</button></div><div class="row"><button class="btn" onclick="resetRun()">Reset run</button><button class="btn" onclick="go('home')">Exit</button></div><p id="msg"></p></div></div></div>
<div class="card view" id="win"><h2>üèÜ Daily Mission Complete</h2><p id="winTxt"></p><button class="cta" onclick="go('home')">Home</button></div>
<div class="card view" id="lose"><h2>üí• Run failed</h2><p id="loseTxt"></p><div class="row"><button class="cta" onclick="go('game');resetRun()">Retry</button><button class="btn" onclick="go('home')">Home</button></div></div>
</div>
<script>
const V=['home','help','rewards','game','win','lose']; const N=6; let board=[],score=0,combo=1,round=1,lives=2;
const shapes=[[[0,0],[1,0],[0,1]],[[0,0],[1,0]],[[0,0]]];
function go(v){V.forEach(x=>document.getElementById(x).classList.remove('active'));document.getElementById(v).classList.add('active');}
function init(){board=Array(N*N).fill(0);score=0;combo=1;round=1;lives=2;draw();hud();}
function draw(){const g=document.getElementById('grid');g.innerHTML='';board.forEach(v=>{const d=document.createElement('div');d.className='cell'+(v?' filled':'');d.textContent=v?v:'';g.appendChild(d);});}
function hud(){document.getElementById('hud').textContent=`Round ${round}/8 ¬∑ Score ${score} ¬∑ Combo x${combo} ¬∑ Lives ${lives}`;}
function fits(shape,r,c){for(const p of shape){const rr=r+p[0],cc=c+p[1];if(rr>=N||cc>=N||board[rr*N+cc])return false;}return true;}
function place(shape,r,c,val){for(const p of shape){const rr=r+p[0],cc=c+p[1];board[rr*N+cc]=val;}}
function clears(){let k=0;for(let r=0;r<N;r++){if([...Array(N)].every((_,i)=>board[r*N+i])){for(let i=0;i<N;i++)board[r*N+i]=0;k++;}}
for(let c=0;c<N;c++){if([...Array(N)].every((_,r)=>board[r*N+c])){for(let r=0;r<N;r++)board[r*N+c]=0;k++;}}return k;}
function play(i){const s=shapes[i];const pos=[];for(let r=0;r<N;r++)for(let c=0;c<N;c++)if(fits(s,r,c))pos.push([r,c]);if(!pos.length){lives--;combo=1;document.getElementById('msg').textContent='No valid placement for this shape.';if(lives<=0)return finish(false);hud();return;}
const pick=pos[Math.floor(Math.random()*pos.length)];place(s,pick[0],pick[1],1+i);let k=clears();if(k>0){score+=k*80*combo;combo=Math.min(6,combo+1);document.getElementById('msg').textContent='Line clear x'+k;}else{score+=12;combo=1;document.getElementById('msg').textContent='Placed. Build next clear.';}
round++;draw();hud();if(round>8)finish(true);}
function finish(win){if(win){document.getElementById('winTxt').textContent=`Score ${score}. Rewards: 40 gems + combo bonus tier ${Math.min(3,Math.floor(score/300)+1)}.`;go('win');}
else{document.getElementById('loseTxt').textContent=`Reached round ${round}/8 with score ${score}.`;go('lose');}}
function resetRun(){init();go('game');}
init();
</script></body></html>